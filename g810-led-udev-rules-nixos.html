<!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Setting up g810-led udev rules on NixOS</title>
    <link rel="canonical" href="https://eu90h.com/g810-led-udev-rules-nixos.html" />
    <link rel="stylesheet" href="https://unpkg.com/normalize.css@8.0.1/normalize.css">
    <link rel="stylesheet" href="https://unpkg.com/concrete.css@2.1.1/concrete.css">
    <style>
      code {
        white-space: pre;
      }

      code.inline {
        white-space: normal;
      }
    </style>
    <script>
      if (window.location.href === "https://eu90h.github.io/g810-led-udev-rules-nixos.html") {
        window.location.href = "https://eu90h.com/g810-led-udev-rules-nixos.html";
      }
    </script>
  </head>

  <body>
    <main>
      <h3>Setting up g810-led udev rules on NixOS</h3>
      <section>
        <p>
          I have a Logitech g512 carbon keyboard and I wanted to control the LEDs on the keyboard.
          Thankfully there's <a href="https://github.com/MatMoul/g810-led">g810-led</a> which handles this for a number
          of similar Logitech keyboards.
        </p>
        <p>
          It's easy to install on NixOS, just add the g810-led package to your nix config. After it's installed, you can
          set up a profile which will be executed on startup creating the file <code
            class="inline">/etc/g810-led/profile</code> and adding
          <br />
          <code>
            fx hwave all 2
          </code>
          <br />
          for instance. You may have to create the <code class="inline">/etc/g810-led</code> directory if it doesn't
          exist.
        </p>
        <p>
          It'd be nice if we didn't have to run g810-led as root. This can be solved with the provided udev rules.
          Returning to your nix config, add
          <br />
          <code>
            services.udev.packages = with pkgs; [ g810-led ];
          </code>
          <br /> and now you should be able to control the keyboard LEDs!
        </p>
      </section>
      <footer>
        <a href="/index.html">home</a>
        <a href="/about.html">about</a>
      </footer>
    </main>
  </body>

  </html>